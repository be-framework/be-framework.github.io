/* ===========================
   Be Framework / php.net 風 Syntax
   - コメントはオレンジ！
   - JSONと関数名を最小強調
   =========================== */

:root{
    --bg-code  : #fff;
    --border-code: transparent;
    --c-default: #0b3da6; /* default: 識別子/変数/演算子 */
    --c-keyword: #1a7f37; /* keyword: final/public/readonly/function/new/match など */
    --c-string : #c62828; /* string: "…" '…' */
    --c-comment: #d35400; /* comment: 焦げオレンジ */
    --c-punc   : #222222; /* 記号/括弧 */
    --c-func   : #6b1b1b; /* 関数名: 目立ち過ぎない赤茶。完全php.netなら default に */
    --c-number : #0a8f8f; /* 数値 */
    --bg-insert: #ddffdd;
    --bg-delete: #ffdddd;
}

.highlight{ background:var(--bg-code); color:var(--c-default); border-radius:6px; color-scheme: light dark; }
.highlight pre{ margin:0; padding:1rem 1.25rem; overflow-x:auto; tab-size: 2; line-height: 1.5; }
.highlight, .highlight pre, .highlight code{ font-variant-ligatures:none; }

/* --- コメント（オレンジ!） --- */
.highlight .c, .highlight .c1, .highlight .cm, .highlight .cs, .highlight .cp{
    color:var(--c-comment); font-style: normal;
}

/* --- 文字列 --- */
.highlight .s, .highlight .s1, .highlight .s2, .highlight .sb, .highlight .sc,
.highlight .sd, .highlight .se, .highlight .sh, .highlight .si, .highlight .sx, .highlight .sr{
    color:var(--c-string);
}

/* --- キーワード --- */
.highlight .k, .highlight .kd, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kt{
    color:var(--c-keyword); font-weight: normal;
}

/* --- 数値 --- */
.highlight .m, .highlight .mi, .highlight .mf, .highlight .mh, .highlight .mo, .highlight .il{
    color:var(--c-number);
}

/* --- デフォルト（識別子/演算子/括弧/名前空間 等） --- */
.highlight .n, .highlight .na, .highlight .nb, .highlight .bp, .highlight .nc, .highlight .no,
.highlight .nv, .highlight .vc, .highlight .vg, .highlight .vi, .highlight .nn, .highlight .nx,
.highlight .nt, .highlight .o, .highlight .p, .highlight .w{
    color:var(--c-default);
}
/* --- 記号/演算子 --- */
.highlight .p{ color:var(--c-punc); }   /* {}, (), :, ; など */
.highlight .o{ color:var(--c-default); }/* -> :: => などは php.net 風に青 */

/* --- 関数名（最小強調）：php.net 完全準拠でデフォルト色 --- */
/* --- 属性 #[...] を default 扱いに（#の色ブレ防止） --- */
.highlight .na, .highlight .nd, .highlight .nf { color: var(--c-default); font-weight: normal; }

/* --- JSON 読みやすさ：キー=青, 値=赤, 記号=黒 --- */
.highlight .nt{ color:var(--c-default); } /* "key" */
.highlight .s { color:var(--c-string);  } /* "value" */
.highlight .p { color:var(--c-punc);    } /* { } [ ] : , */

/* --- Generic（diffなど） --- */
.highlight .gd{ color:#000; background:var(--bg-delete); }  /* Deleted */
.highlight .gi{ color:#000; background:var(--bg-insert); }  /* Inserted */
.highlight .gr, .highlight .gt{ color:#aa0000; }            /* Error/Traceback */
.highlight .gh, .highlight .gu{ color:#9aa0a6; }            /* Heading/Subheading */
.highlight .go{ color:#888888; }                            /* Output */
.highlight .gp{ color:#555555; }                            /* Prompt */
.highlight .gs{ font-weight:bold; }                         /* Strong */
.highlight .ge{ font-style:italic; }                        /* Emphasis */

/* --- 互換調整 --- */
.highlight .kc,.highlight .kd,.highlight .kp,.highlight .kr{ font-weight:normal; }
.highlight .kt{ color:var(--c-keyword); font-weight:normal; }
.highlight .nb,.highlight .bp{ color:var(--c-default); }
.highlight .nc{ color:var(--c-default); font-weight:normal; }
.highlight .ne{ color:var(--c-func);   font-weight:normal; }
.highlight .nn{ color:var(--c-default); }
.highlight .nt{ color:var(--c-default); }

/* --- ダークモード --- */
@media (prefers-color-scheme: dark){
    :root{
        --bg-code  : #0b1020;
        --border-code: transparent;
        --c-default:#c8d7ff;
        --c-keyword:#7bd28f;
        --c-string:#ff8a80;
        --c-comment:#e67e22;
        --c-punc:#e5e7eb;
        --c-func:#b0c3ff;
        --c-number:#63d1d1;
        --bg-insert:#12351a;
        --bg-delete:#3a1919;
    }
    
    /* diff用色調整：ダークモードで可読性確保 */
    .highlight .gd{ color:#fff; }  /* Deleted: 白文字で読みやすく */
    .highlight .gi{ color:#fff; }  /* Inserted: 白文字で読みやすく */
    .highlight .gr, .highlight .gt{ color:#ff6b6b; }  /* Error/Traceback: 明るい赤 */
    .highlight .gh, .highlight .gu{ color:#c9c9c9; }  /* Heading/Subheading: 明るいグレー */
    .highlight .go{ color:#b0b0b0; }  /* Output: 明るいグレー */
    .highlight .gp{ color:#d0d0d0; }  /* Prompt: 明るいグレー */
}

@media (forced-colors: active){
  .highlight { background: Canvas; color: CanvasText; }
  .highlight .gd{ background: none; outline: 2px solid ButtonBorder; }
  .highlight .gi{ background: none; outline: 2px solid Highlight; }
}
